<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>FundRmentals 01</title>
    <meta charset="utf-8" />
    <meta name="author" content="Dr Danielle Evans | University of Sussex" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/panelset/panelset.css" rel="stylesheet" />
    <script src="libs/panelset/panelset.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
    <link rel="stylesheet" href="ppt_style.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# FundRmentals 01
### Dr Danielle Evans | University of Sussex

---









# Session Overview

#### Part 1: Course Overview

- What even is R &amp; why are you making me learn it?

- Introduction to the fundRmentals course

- The R-cult: why R is ‚≠ê*magical*‚≠ê 


#### Part 2: Getting StaRted

- Next steps 

- Tips for success

- Installing R &amp; RStudio


???

- hi everyone, welcome to fundrmentals, intro self &amp; learning for 4 years, initially found it quite scary and not enjoyable, but then the more i understood the more i really came to love it, not a day where i dont use it

- im super excited to help you get started with learning R in the hope that you will follow the same process that i did, &amp; iknow some of you would probably prefer to watch paint dry instead of doing this but i promise i'll try my best to make the process as painless &amp; enjoyable as possible 

SWITCH

- for today's session its gona be a lil different to how these will run normally

- today's session is gonna be a lot of me talking at you, i wana introduce R V briefly and overview the course, show you all the cool stuff you can do and hopefully demonstrate how valuable R can be and also that it isnt so bad you just have to stick with it through the tough times, then at the end, for those of you without r n rstudio installed, im gonna walk you through that process and get you setup now so ur all ready to start on the tutorial for this week, so for the most part, you can sit back and hopefully relax

- if you have any questions pop them into the chat, or we can discuss anything that comes up at the end

---


class: middle, center

# Part 1: Course Overview


---

# What even is R anyway? ü§î

.pull-left[

- R is a programming language where we can talk to our computer &amp; tell it what to do...


```r
print("Hi LearneRs!")
```

```
## [1] "Hi LearneRs!"
```


]

.pull-right[

- RStudio is a more user-friendly interface where we can use R


&lt;img src="../img/rstudio.png" width="2560" /&gt;



]




???

so you might have heard a lot of talk about this thing called R but really have not much idea about it, so to give you a bit of background, R is a programming language, it allows us to talk to the computer by typing out a bunch of commands - that look a bit like this, just like any other language, it feels quite tricky to learn at the beginning, the unfamiliarity can feel quite uncomfortable but after a while it becomes second nature

there are tools we can use that make working with R easier, one of those is a program called RStudio, 

RStudio is a more user-friendly interface where we can use R, its feels more similar to programs that we're more used to working with like excel or spss more straightforward way of writing code compared to just using R by itself, u can also use other languages within r studio such as python which can be really useful if other languages are used within your field

---



# Introduction to fundRmentals

.pull-left[

#### Course Structure

- Weekly tutorials to do in your own time 

- Weekly 'HappyHouR' practical sessions 

&lt;br&gt;

#### Course Aims 

- Gain solid understanding of the 'fundRmentals' 

  + Feel confident supervising project students using R 

  + Feel inspired to use R/RStudio for your own projects  

]


.pull-right[

#### FundRmentals [Webpage:](https://fundrmentals.netlify.app/)

&lt;iframe id="inlineFrameExample"
    title="Inline Frame Example"
    height="350"
    width="500"
    src="https://fundrmentals.netlify.app/"&gt;
&lt;/iframe&gt;

]



???

so the aim of this course is to teach you how to write R code within RStudio 

- the course is structured so that you have weekly tutorials to complete in your own time, you can do these alone or team up with someone else and work through them together its entirely up to you how you do these, everything you need to know will be in these self-paced tutorials, in terms of project supervision, they're also really great to use for reference if you need to look up a specific analysis, or to remind urself how to do something - a key thing to keep in mind is that you dont need to memorise everything, its good to be efficient but there are so many resources open to you where u dont need to do that, so if u find urself having to look something up because uve forgotten exactly how to do something, thats completely normal

- but we'll also have a weekly practical session together, a happy hour if you will, i promise you wont need alcohol to get through it, in these sessions, we'll practice some tasks from the tutorial, u can try out stuff with ur own data if u want to, its just a way of consolidating everything you've learned from the tutorials

- the aim of the practical sessions is not to teach u anything new, just a way that you have a lil community of learnRs &amp; ur not trying to do it all by ursefl, its quite nice to complain to others about anything that went wrong or you found confusing, or get excited about any cool things you've done or the things that have just gone well, it will also give me the opportunity to go anything that you found unclear in the tutorial and answer any questions that you have, &amp; is also a way to keep up with doing stuff in R regularly, using R often is really important in terms of learning it, so attending these practical sessions is a way of making sure u keep up with the tutorials each week,

- iknow all of u are extremely busy, and everything u need is in the tutorials but i do recommend coming to the practicals even for the first 5 mins just to say everythings fine and it all makes sense and ur gonna get started on the next tutorial

- then hopefully by the end of the course, you'll have a solid understanding of the fundrmentals, im sorry already for all the R puns but i cant help myself, it's also really important to me that you feel confident and comfortable supervising project students, and i'd love for you to also feel inspired and interested in using R for your own work

- to make organisation a little easier, i've hosted all the materials and information you need on a website, i sent the link in the email for this session so you might have had a look already, but i wanted to show you all a quick little tour now too

- tour of website

- so any questions about the course so far?

---


# The R-cult: why R is ‚≠ê*magical*‚≠ê 


- Makes complicated things easy to do

- Super efficient

- Collaboration

- Reproducibility 

- Visualisations

- Modelling

- Reporting

- Presenting

- &amp; *sooo* many other cool things!! 





???


- there are a few reasons why we're gently nudging you to learn R aka not giving you much choice, &amp; there are so many pros to learning R that imo outweigh the cons, im hoping to demonstrate some of those to you now, in an attempt to show you that it really isnt so bad, &amp; its incredibly useful &amp; it can be fun

R firstly is really useful because it makes hard things easy - u can do lots of really complex things in R that wouldnt be possible in other software, or wud require u having to use lots of different software for different things, can do really complex stuff with little effort in R 

super efficient - can just copy and paste code, from my own experience i had 4 very complicated models in my phd, but once i'd written the code for the first, i could just copy and paste the code which meant that the other 3 took literally seconds to do, u also have the ability to re run all your analysis again with the click of 1 button its such a time saver, its also great for dealing with reviewers when writing papers, for me i submitted a paper with some longitudinal variables, the reviewer suggested using a different timepoint for one of them, in spss i would have had to click through the entire analysis again, create new tables, and new figures, rewrite all my results again, but with R i was able to change 2 letters of a variable name and i could just press run and it was done, for ur students, maybe they did something wrong, and they need to re run their analysis, with R its so simple compared to spss, literally click one button and u can re run the whole analysis 

great for collaboration &amp; reproducibility - you can share your whole project with other people, it makes reproducing your work really easy, anyone with your code can see what you've done step by step, and if they have ur data they can reproduce it entirely, especially with the replication crisis we need to be more transparent about how we've cleaned and analysed our data and using R is one of the best ways that we can do that, sharing code of the analyses is also a requirement of many open access journals so you'd be keeping up with wider changes within psychology by learning R, its also easier to check ur students analyses this way, u can see and replicate everything that theyve done, how theyve cleaned their data, any analytical decisions theyve made, how theyve done their analyses, u can see everything step by step, u can run it urself with one click and also see if theyve interpretted the results appropriately

one of the most amazing things about R is that the visualisations you can create are pretty much unlimited, the packages for creating plots of your data are fantastic &amp; have such a huge range of functions, the only limit u have really is ur data and ur imagination 

models are really easy to do in R and even really complex models are relatively straightforward, also a lot of stuff you wouldnt be able to do with other software you can do in R, i'm gonna show you a couple examples of the code for some models that u or ur studnets might fit, just so you can see how easy it is, and that its not so bad after all

presenting and reporting with R really are my favourite things, you can create different types of documents with your analyses and your writeup contained in one doc, theres packages where you can write a paper automatically in apa style with little effort, theres other packages that conform to the style of specific journals, and there's just some really cool things you can do with it, and im excited to show you some of them today 



---


# A *very* simple regression

- 1 line of code, much quicker than clicking in SPSS:


```r
lm(outcome ~ predictor, data = data)
```

???

so i promised that models are nice and easy in R

&amp; firstly i wana demonstarte a very simple, simple regression, with one predictor in this model, and to do this in R, you can use this very short line of code here, it follows the structure where you specify you want to use the lm function which is function for linear models, then you'd give the name of your outcome, the name of your predictor, and what the data is called, and it will fit your model and print out the main results for you when u run it, its literally so straightforward, you could have written this out before you clicked through spss menus

--

&lt;br&gt;

### *"But Dan, what if I have 10 predictors?"*

- Still just 1 line of code...


```r
lm(outcome ~ predictor_1 + predictor_2 + predictor_3 + predictor_4 + predictor_5 + predictor_6 +
     predictor_7 + predictor_8 + predictor_9 + predictor_10, data = data)
```


???

but dan, what if i have 10 predictors? i hear you say...

its still just one line of code, this time we just have more variable names for our predictors, we just list them with the + sign, and thats our model fitted to our data, you really could have 100 variables and it would still just be this one line of code that you'd need to use, so even a multiple regression with loads n loads of predictors its still nice n easy,


---

# A *very* simple regression

- 1 line of code, much quicker than clicking in SPSS:


```r
lm(outcome ~ predictor, data = data)
```

&lt;br&gt;

### *"But Dan, what if I want to do a t-test?"*


```r
t.test(outcome ~ grouping_variable, data = data)
```

### *"Or a correlation?"*


```r
cor.test(~ variable_1 + variable_2, data = data)
```


???


it isnt just linear models taht are straightforward,

t tests and correaltions are also nice n easy, they still follow this similar stucture where were specifying the test, out variables, and our data, 

---


# A *very* simple regression

- 1 line of code, much quicker than clicking in SPSS:


```r
lm(outcome ~ predictor, data = data)
```

&lt;br&gt;

### *"But Dan, what if I have a factorial design?"*

- Still just 1 line of code...


```r
lm(outcome ~ predictor_1*predictor_2, data = data)
```

???

even more complicated factorial designs, 

to fit the model, its still just one line of code, this time we have two categorical predictors and this line would fit the model and look at the main effects of our predictors and any interactions with such a short line of code which follows the above where we specify our outcome, and our predictors, just this time we're mulitiplying them, not adding

with R you can fit very complex models &amp; analyses with very little code and effort, like i said earlier it makes the difficult stuff easy, and it can be surprisingly straightforward, it might not look straightforward to you right now, because its likely completely unfamiliar, but i promise it becomes second nature after a lil while


i can almost guarantee that you could do your analyses in R before spss even fully opens





---


# A *very* simple regression

- 1 line of code, much quicker than clicking in SPSS:


```r
lm(outcome ~ predictor, data = data)
```

&lt;br&gt;

### *"But Dan, what if I have a stupidly complex model?"*

???

i keep mentioning complex models and how R can do anything you want it to, so lets actually take a look at an example..


---


# A Gross Latent Growth [Model](../img/parmodel.jpg)

.panelset[


.panel[.panel-name[

## Model

]


&lt;img src="../img/parmodel.jpg" width="28%" style="display: block; margin: auto;" /&gt;

.center[
.teeeny[
[Evans &amp; Field, 2020](https://royalsocietypublishing.org/doi/10.1098/rsos.200422)
]
]
]

.panel[.panel-name[

# Code

]

- Just 5 lines of code for this monstrosity: 

.teeny[


```r
model &lt;- "i =~ 1*sat140 + 1*ks2_mat + 1*ks3_mat + 1*ks4_maths
s =~ -4*sat140 + 0*ks2_mat + 3*ks3_mat + 5*ks4_maths

i ~ sex + int_sdq_11 + iq_cent + wm_cent + ses_cent + cse_voc + cse_olevel + cse_alevel + cse_degree + par_mh_fa + mum_home_int + part_home_int + cai_cent + psai_cent +
home_teach_1_al + home_teach_1_nu + schl_supp_sa + schl_supp_se + eas_harmony + eas_control

s ~ sex + int_sdq_11 + iq_cent + wm_cent + ses_cent + cse_voc + cse_olevel + cse_alevel + cse_degree + par_mh_fa + mum_home_int + part_home_int + cai_cent + psai_cent +
home_teach_1_al + home_teach_1_nu + schl_supp_sa + schl_supp_se + eas_harmony + eas_control"

growth(model, data = data, estimator = "MLR")
```

]
]
]




???

so this is a latent growth model, i've called it the gross latent growth model because it is disgusting

im gonna open this up a bit bigger for you to see better just how horrible it is, this is an actual model from my phd, it has 17 predictors around parental stuff &amp; the home environment, and i was looking at how well they predict maths attainment trajectories, so for the outcome measures, i have four maths attainment variables, which fed into the estimates of the intercept and the slope of attainment over time, probably doesnt make much sense but what im tryna show is that theres a whole lot going on, 17 predictors 4 outcomes which then make up two measures of the trajectory

im gonna show you the code for this model in a second, but i want you to keep in ur mind what this looks like conceptually, and how little code was actually needed for it


for this model, its just one line of code! no its 5 lines of code so a little bit more than what we looked at before, BUT considering the complexity of the model, its still really straight forward

the first two lines define the model where we give the outcome measures, the second two lines define the predictors for our model, if we didnt have 17 of them, these two lines would be shorter

and then the final line just puts that together where we have the model that we've just specific, and the data to use

i really want you to see that even the really complex stuff isnt so bad, hopefully i havent done the opposite and scared you away 






---
# Data Viz: A Pretty, Plain, APA Scatterplot


.pull-left[
.tiny[


```r
ggplot(data, aes(x = flipper_length_mm, y = body_mass_g)) +
  geom_point() + 
    labs(x = "Flipper Length (mm)", y = "Body Mass (g)") + 
      theme_apa() 
```
]
]

.pull-right[

&lt;img src="index_files/figure-html/unnamed-chunk-15-1.png" width="85%" /&gt;


]




???

i said in the beginning that one of the really cool things about R is the ability to visualise data in pretty much unlimited ways, you can do so many things with different pakcages and functions that you can create anything that your imagination and data will allows, you can have manny different types of plots, different colours, you can add extra labels, titles, captions, themes literally anything, so for publications you could have very plain scatter plot like this one, which was made with an apa theme, but the best thing about using R is that these things are really easy to edit, it could be that a reviewer suggests breaking down the scatter plot by different groups for example


---
# Data Viz: Grouped Scatterplot


.pull-left[
.teeny[


```r
ggplot(data, aes(x = flipper_length_mm, y = body_mass_g, colour = island)) +
  geom_point() + 
    labs(x = "Flipper Length (mm)", y = "Body Mass (g)", colour = "Island") + 
      theme_apa() 
```
]
]

.pull-right[

&lt;img src="index_files/figure-html/unnamed-chunk-17-1.png" width="85%" /&gt;

]

???


which is really really easy to do, here i've just specified one extra option to split this data by a grouping variable its super straightforward and quick to implement these types of changes, uliterally just adding in one option and pressing run again


---


# Data Viz: sCATterplot

.pull-left[
.tiny[


```r
ggplot(data, aes(x = flipper_length_mm, y = body_mass_g)) +
 geom_cat(cat = "lil_bub", size = 2) + 
  labs(x = "Catnip Consumed", y = "Happiness") + 
    theme_apa()
```

]]

.pull-right[

&lt;img src="index_files/figure-html/unnamed-chunk-19-1.png" width="85%" /&gt;


]


???


i did say that these packages and functions are essentially unlimited, so here i propose the sCATterplot, its too easy to do this kind of stuff, 

the beauty of using R is that these plots can be directly embedded into the body of your article, so any changes you make to them, if u decide u want cats for ur data points, these changes can be automatically updated within your article at the press of a button, saves a whole lot of editing and copying over between different documents, which brings me onto my favourite thing


---


# RMarkdown

.pull-left[

- Combine code (analyses, plots etc.) &amp; text in one document 

- Great for writing notes about your analyses or for creating nicely formatted word docs/htmls/pdfs etc.

- Super useful for writing journal articles, dissertations &amp; theses

- Additional packages (`papaja` &amp; `rticles`) for apa style/journal formatting

- **Most (if not _all_) students will use RMarkdown for their analyses**


]

.pull-right[

&lt;img src="../img/papajagif.gif" width="70%" style="display: block; margin: auto;" /&gt;

]


???

theres a R package called rmarkdown, I love it so much, its really one of my fave things, its something i work with all the time, i pretty much never use any other software anymore because i use this instead

what it is is a template you can use, where you can have chunks of code and then any normal body text within one document, you can then press a button to produce this becomes a pretty, nicely formatted document, i've written all my papers this way &amp; wrote my thesis with it

theres additional templates you can use that conform to apa style or specific journal formats

this is an example of the apa version looks like at the end



its really useful because its reproducible, anyone with this document and your data can replicate what you've done, and they can clearly see what youve done, you can annotate ur analysis and any decisions u make as you go, its really good if if there are any changes with your data, whether you end up collecting more, or excluding any participants later on, for whatever reason, you can just re run it and everything updates, you wouldnt have to redo everything, imagine graphs, you dont have to keep switching between lots of differnet programs and different files, keeps u organised with everythign in one placee, and its super versatile, you can render to different types of documents

UG students will most likely use this to conduct their analyses in, you might even have some really keen students who would like to write their dissertation within rstudio

its even more useful when written with something called inline code...

---

# Inline Code

- Allows you to include code within the main text of your document 

- Can be used with test results, values from tables etc.

- Any values will be automatically updated when you render the file 

- Incredibly useful &amp; efficient

- Helps you avoid tYpos &amp; rounding erroRs

&lt;br&gt;

.center[

**The final sample consisted of `` `r nrow(data)` `` participants.**


&lt;img src="../img/down2.png" width="5%" style="display: block; margin: auto;" /&gt;


**The final sample consisted of 500 participants.**


]


???

inline code is where we can embed lil lines of code within the body text of a document

so we can use functions, or pull out values from any test results, or tables etc.,

and then if there are any changes to those values i.e., collecting more data, then they will automatically update, its also a really good habit to get into to avoid typos, i read somewhere that half of published papers report an incorrect p value in their results somewhere

great for paper revisions, no need to rewrite everything, if u need to re run your analysis after some reviewer suggestions for example, your writeup of your results will update automatically wherever you've used inline code to report them

never  really understood it for a long time, but myt fave thing now, such a gamechanger, it will absolutely transform how you work if u publish a lot or ever deal with demanding reviewers, 

some students really dislike it, but others are really really keen to learn it




---




class: center, middle

# You can create beautiful [slides](https://github.com/yihui/xaringan) like these... 


![](../img/office.gif)&lt;!-- --&gt;


???

you can also do more cool stuff in R, these slides were written in R, with rmarkdown, i dont use powerpoint anymore


---


class: center, middle

# You can create super cool [websites...](https://rstudio.github.io/distill/) üòâ


&lt;iframe id="inlineFrameExample"
    title="Inline Frame Example"
    height="350"
    width="1000"
    src="https://fundrmentals.netlify.app/"&gt;
&lt;/iframe&gt;


???

the fundrmentals website was also created in R 


---

class: middle, center

# Part 2: Getting StaRted


???

hopefully now i've convinced you that R is worthwhile learning, i know when i was learning it for the first time that i just felt abit defeated by how different and complicated everything seemed compared to spss, but now i wud never ever go back to spss

i promise once you get past that initial fear, and unfamiliarity, it becomes much easier, and more interesting, more fun, and generally just a really useful thing to know for your own work





---

# Next Steps

#### Complete the [tutorial](http://milton-the-cat.rocks/learnr/r/r_getting_started/) before our first HappyHouR next week, which covers: 

  + Installation &amp; tour of RStudio
  + Working in RStudio
  + Installing &amp; loading packages
  + RMarkdown
  + Getting data into RStudio
  + Tables in RMarkdown


#### Tips for Success

  + Practice as often as you can
  + Be kind to yourself - it feels really slow &amp; confusing when you first start
  + Ask questions, often someone else explaining it slightly differently makes everything click
  + There's a huge online community of R users, for any problems/errors you're having the solution can usually be found quite easily by searching
  + Google is your best friend 




???

ok so before our first happy hour next week, you need to download r and rstudio if u havent already, im gona help u thru that procss in a second for those of you that might be a little unsure, in the tutorial for next week andy goes through what they actually are, there's a tour of rstudio, &amp; how to install &amp; load packages, and some info about rmarkdown

so you should aim to complete the tutorial before we meet next week, if u have any problems just let me know, u can email me or post on the padlet with anything that comes up or any questions u want me to answer next week

before i conclude for today i also just want to finish with some of my own tips 

r can be tricky, it can feel very weird to begin with, everything seems really unfamiliar so thats why you should try to use it as often as you can, even if its just for a few minutes, it is a language after all, and its easy to forget stuff if you leave it a while

be kind to urself, u might not get something right away and thats ok, it can feel like everything is confusing and like ur not progressing very quickly, but everyone has this point where stuff suddenly just makes sense and theres this steep updward curve in your knowledge n skills

ask lots of questtions, nothing is ever a stupid question, often u can hear the same person explain something 20 times and doenst make sense, but another person just explaining slightly differently can make everything click, so if anything is unclear pls let me try help

there is a huge huge community of r users online, so many resources, lots of forums, if u have an error or a problem or want to know how to do something, u can alsmot definitly find it on google, so dont be afraid to search it up

finally just stick with it, i never cud have imagined i wud be teaching R when i started learning it those few years ago, so if i can do it, u can do absolutely do it

in a moment, for those of you that dont have r and rstudio installed yet, i'll show you where u can download them, but otherwise we are at the end of the session now, does anyone have any questions? if not ur free to leave and u can go start on the tutorial for this week

---

class: center, middle

# Installing R &amp; RStudio Walkthrough










    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "monokai",
"highlightLines": true,
"highlightSpans": true,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>

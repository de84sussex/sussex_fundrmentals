<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>FundRmentals 03</title>
    <meta charset="utf-8" />
    <meta name="author" content="Dr Danielle Evans | University of Sussex" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <script src="libs/clipboard/clipboard.min.js"></script>
    <link href="libs/xaringanExtra-clipboard/xaringanExtra-clipboard.css" rel="stylesheet" />
    <script src="libs/xaringanExtra-clipboard/xaringanExtra-clipboard.js"></script>
    <script>window.xaringanExtraClipboard(null, {"button":"Copy Code","success":"Copied!","error":"Press Ctrl+C to Copy"})</script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
    <link rel="stylesheet" href="ppt_style.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# FundRmentals 03
### Dr Danielle Evans | University of Sussex

---








# Overview

- Q&amp;A

- Session setup

- Packages, functions, &amp; objects

- Importing data

- Inspecting data

- Next steps

---

class: middle, center

# Any questions from the last tutorial?

---

# Setup

1. Open RStudio

1. Create an R Project for the fundRmentals course or open the project we made last week

  + To create one, go to **File**, **New Project**, **New Directory**, **New Project**, give your project a name, then click **Create**
  
  + Then create **data** &amp; **r_docs** folders (in the **Files pane** click **New Folder**)

  + To open your project from last week, check if you're already in it by looking at the project name in the top right corner of RStudio, if you are not, click on the dropdown arrow and select it from the list

1. Create a new RMarkdown document

  + Go to **File**, **New File**, **RMarkdown**, name it **week_03**, then click **Create**

1. Delete everything in the RMarkdown document that we don't need: from line 11 down, then save your document to the **r_docs** folder



???

To start with, we're going to open up RStudio, then we want to open our R Project that we created last week, or if you werent here, we want to create one now, so to create one, we can go to *File*, *New Project*, *New Directory*, *New Project*, give your project a name, then click *Create*

For those of you that created it last week, glance at the top right corner, just underneath the cross to close the window, this shows you what project you're currently in, for all of you, you'll probably already be in your fundrmentals project, so it should say whatever you called it last week there, if it doesnt, click the arrow, and select the project from the list that appears

after we have our project setup, we **all** want to open a new rmarkdown document

to do this, Go to *File*, *New File*, *RMarkdown*, name it *week_03*, then click *Create*

Whenever we open an rmarkdown for the first time, we get a lot of info that we dont need, it just tells us about rmarkdown, so we really only need to read it once, so now delete everything in the RMarkdown document that we don't need: from line 11 down, you can just select it all from line 11 down and press delete

**DEMO WHAT WE SHOULD HAVE**

---

# Packages

- Packages are essentially just add-ons for RStudio

- Last week we learned that we can use **install.packages()** to install most packages we want to use, where we just insert the name of the package in the brackets 

- If you weren't here last week, you need to install **"tidyverse"** on your device

- To do that, we can run the below line in the **Console**


```r
install.packages("tidyverse")
```

???

to briefly recap, packages are essentially just add-ons, they build on the functionality of rstudio

to access these packages in rstudio, we first have to download them to our pc, we only need to do this once, or if we ever want to update our copy of the package, where the creator has made any changes made to it

last week, we learned that we can use install.packages to install most packages, and to use it we need to type this command into the console, type out our package name to be within speechmarks, and then press enter to run it

tidyverse is an example of one of these packages, and one that we'll be using very often, so if you weren't here last week, and missed my email, you should install it now, so you can copy this command here, paste it into the console, and press enter

---

# Loading packages

- To be able to use the contents of package within RStudio, we need to load it

- We can do this by using the **library()** command

- We should load a package once at the top of our RMarkdown document in a code chunk like this: 


```r
library("tidyverse")
```

- If we don't load a package before we try to use it, we'll get an error appear, so it's best to do it right at the beginning

&lt;br&gt;

### Task

1. Load tidyverse in a new code chunk (**Ctrl + Alt + I** or **Cmd + Alt + I** to insert a new chunk) - don't forget to run it!

---

# Functions &amp; assignment &lt;- 

- We've used two functions already today: **install.packages()** &amp; **library()**

- A function is a way of performing a task in R &amp; they follow this type of structure: 


```r
package_name::function_name(argument_1 = object_name, argument_2 = 1, argument_3 = TRUE)
```

- Where inside the brackets, we specify different arguments/options - these could be the names of any data/objects, numbers, logical operators etc, &amp; they give us some type of output

- To save the output of a command, we can use the assignment operator **&lt;-**

- We use **&lt;-** as a way of giving a name to some sort of **object** - whether that's the output of code, a dataset, a string of text, a table, a plot etc, like this: 

.tiny[


```r
object_name &lt;- package_name::function_name(argument_1 = object_name, argument_2 = 1, argument_3 = TRUE)
```

]

--


```r
my_name &lt;- "danielle"
```




???

- We've used two already today: **install.packages()** &amp; **library()** these are part of **Base R** so we didn't need to install any packages to use them

- the package name and double colon isnt stricly necessary, sometimes different packages will have functions of the same name, and we can use this method to specify which we want to use, it's also good style to use, and can help with learning what packages and functions you're using

- We can use the help pane/google to tell us how to use different functions but as you use them more often you won't need to look them up

---

# Importing data with `tidyverse`

- The **read_csv()** function from the **readr** package is one function we can use to import .csv data files

- The **read_sav()** function from the **haven** package is one function we can use to import .sav data files

- They both have one main argument which is the path to the file: 


```r
object_name &lt;- readr::read_csv("./directions/to/the/data/file/go/here.csv")
```


```r
object_name &lt;- haven::read_sav("./directions/to/the/data/file/go/here.sav")
```

### Task

1. Create a new code chunk (**Ctrl + Alt + I** or **Cmd + Alt + I**), open the datafile at [this link](https://raw.githubusercontent.com/de84sussex/sussex_fundrmentals/master/docs/empathy_data.csv), copy the web address into the **readr::read_csv()** function, name the object **emp_data** &amp; run it


???

we can use links in the same way that we can use file paths




this is the same data we downloaded last week, so those of you that have it on your pc, you can use a file path to get there instead of using the web address

dont forget to use our lil assignment operator, our lil arrow, to give it a name 

**DEMO LOADING DATA &amp; THE MSG**

---

# Inspecting data

- Below are some useful functions to explore your data, you should run these only in the console or make sure to delete them out of your RMarkdown file after you've seen the output
- All you need to do is put the name of your **object** into the brackets of the function

.pull-left[ 

To see your raw data:

.tiny[


```r
object_name
```


```r
print(object_name)
```


```r
View(object_name)
```


```r
head(object_name)
```


```r
tail(object_name)
```

]

]

.pull-right[

To see characteristics of your data:

.tiny[


```r
str(object_name)
```


```r
summary(object_name)
```


```r
names(object_name)
```


```r
ncol(object_name)
```


```r
nrow(object_name)
```

]

]


**Task**: try out these functions on our **emp_data**

???

**demo them &amp; assignment of nrow**

---

# Sub$etting

- Sometimes, we'll want to access a single column in our dataset, we can do this by subsetting with the $, like this:


```r
object_name$column_name
```

- By subsetting, we can apply functions to a single column

- Two useful functions for inspecting columns are table() &amp; class()


```r
table(object_name$column_name)
```


```r
class(object_name$column_name)
```

**Task**: try out these functions on the **Harm** variable of our **emp_data**

---

# Next Steps

- For next week you should complete the **Summarizing data (1)** &amp; **Creating a summary table (2)** sections of the **discovr_02** tutorial by pasting the below code into the **Console** in RStudio, pressing **Enter** &amp; skipping to the relevant sections


```r
learnr::run_tutorial("discovr_02", package = "discovr")
```

- I'm estimating 20 minutes for this tutorial

- Next week we'll cover the pipe **%&gt;%**, data wrangling &amp; summarising










    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "monokai",
"highlightLines": true,
"highlightSpans": true,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
